{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,WAAYC,SAASC,cAAc,qBACnCC,eAAgBF,SAASC,cAAc,oBACvCE,YAAaH,SAASC,cAAc,sBACpCG,OAAQJ,SAASC,cAAc,WAyBjC,SAASI,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACLC,KAAKC,SAAW,GAGxCH,EAAQ,CAAEH,WAAUC,UAEpBG,EAAO,CAAEJ,WAAUC,aAKrB,SAASM,EAAOC,G,IAAER,EAAFQ,EAAER,SAAUC,EAAZO,EAAYP,MAC1BQ,YAAW,WAAQC,EAAApB,GAASqB,OAAOC,QAAQ,uBAAwCC,OAAfb,EAAS,QAAYa,OAANZ,EAAM,SAASA,GAEpG,SAASa,EAAQN,G,IAAER,EAAFQ,EAAER,SAAUC,EAAZO,EAAYP,MAC3BQ,YAAW,WAAQC,EAAApB,GAASqB,OAAOI,QAAQ,sBAAqCF,OAAfb,EAAS,QAAYa,OAANZ,EAAM,SAASA,GAtCjGT,EAAKM,OAAOkB,iBAAiB,SAE7B,SAAkBC,GAChBA,EAAMC,iBACN,IAAIC,EAAaC,OAAO5B,EAAKC,WAAW4B,OAClCC,EAAYF,OAAO5B,EAAKI,eAAeyB,OACvCE,EAAYH,OAAO5B,EAAKK,YAAYwB,QAM5C,SAAyBG,GACvB,I,IADwBL,EAADK,EAACL,WAAYI,EAAbC,EAAaD,UAAWD,EAAxBE,EAAwBF,UACtCG,EAAI,EAAGA,GAAKF,EAAWE,GAAK,EAEjC1B,EAAc0B,EAAGN,GACfO,MAAK,SAAAlB,GAA2BD,EAAO,CAAEP,SAAzBQ,EAARR,SAA2CC,MAA5BO,EAALP,WAClB0B,OAAO,SAAAnB,GAA2BM,EAAQ,CAAEd,SAA1BQ,EAARR,SAA4CC,MAA7BO,EAALP,WACxBkB,GAAcG,EAVhBM,CAAgB,CAAET,aAAYI,YAAWD,iB","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  inputDelay: document.querySelector(\"input[name=delay]\"),\n  inputDelayStep: document.querySelector(\"input[name=step]\"),\n  inputAmount: document.querySelector(\"input[name=amount]\"),\n  button: document.querySelector(\"button\"),\n};\n\nrefs.button.addEventListener(\"click\", onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  let delayFirst = Number(refs.inputDelay.value);\n  const delayStep = Number(refs.inputDelayStep.value);\n  const amountAll = Number(refs.inputAmount.value);\n\n  creatPromiseFor({ delayFirst, amountAll, delayStep })\n  \n};\n\nfunction creatPromiseFor({delayFirst, amountAll, delayStep}) {\n  for (let i = 1; i <= amountAll; i += 1)\n    {\n      createPromise(i, delayFirst).\n        then(({ position, delay }) => { succes({ position, delay }); }).\n        catch((({ position, delay }) => { failure({ position, delay }); }));\n    delayFirst += delayStep;\n  };\n};\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    \n  if (shouldResolve) {\n  resolve({ position, delay })\n  } else {\n  reject({ position, delay }) \n    }  \n  })\n};\n  \nfunction succes({ position, delay }) {\n  setTimeout(() => { Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`); }, delay);\n};\nfunction failure({ position, delay }) {\n  setTimeout(() => { Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`); }, delay);\n}\n\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$refs","inputDelay","document","querySelector","inputDelayStep","inputAmount","button","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","Math","random","$ce04d3a99e08e73b$var$succes","param","setTimeout","$parcel$interopDefault","Notify","success","concat","$ce04d3a99e08e73b$var$failure","failure","addEventListener","event","preventDefault","delayFirst","Number","value","delayStep","amountAll","param1","i","then","catch","$ce04d3a99e08e73b$var$creatPromiseFor"],"version":3,"file":"03-promises.2f41e14b.js.map"}